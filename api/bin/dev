#!/usr/bin/env node
const { exec } = require('child_process');
const path = require('path');

function cmd(command) {
    exec(command, (_error, stdout, stderr) => {
        console.log(stdout)
        console.error(stderr)
    })
}

function transpile() {
    cmd('yarn build')
}

function lint() {
    const root_dir = process.cwd();
    const lint_command = `yarn lint ${root_dir}`;
    cmd(lint_command)
}

function run_server() {
    const root_dir = process.cwd()
    const run_server_command = `yarn node ${root_dir}`
    cmd(run_server_command)
}

transpile()
lint()
run_server()